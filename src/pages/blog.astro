---
import { getCollection } from "astro:content";
import BaseLayout from "../layouts/BaseLayout.astro";
import ListPosts from "../components/ListPosts.vue";

const posts = await getCollection("blog", ({ data }) => {
  return import.meta.env.PROD ? data.draft !== true : true;
});
---

<BaseLayout
  title="Blog"
  description="List of all the blog posts."
  showSubNav={true}
>
  <ListPosts showBack list={posts} />
</BaseLayout>
